@model _70322_Yushkevich.Models.PageListViewModel<_70322_Yushkevich.DAL.Entities.Dish>
@using System.Text
@{
	var result = new StringBuilder();

	// стрелка влево
	var liPrevNext = new TagBuilder("li");
	if (Model.CurrentPage == 1)
	{
		liPrevNext.AddCssClass("disabled");
		liPrevNext.InnerHtml = Html.ActionLink("<<", "List", new
		{
			page = Model.CurrentPage
		})
	.ToString();
		//result.Append(liPrevNext.ToString());
	}
	else
	{
		liPrevNext.InnerHtml = Html.ActionLink("<<", "List", new
		{
			page = Model.CurrentPage - 1
		})
	.ToString();
		//result.Append(liPrevNext.ToString());
	}
	result.Append(liPrevNext.ToString());

	// пейджер
	for (int i = 1; i <= Model.TotalPages; i++)
	{
		var li = new TagBuilder("li");
		if (i == Model.CurrentPage) { li.AddCssClass("active"); }
		var a = new TagBuilder("a");
		a.MergeAttribute("href", Url.Action("List", new
		{
			page = i
		}));
		a.InnerHtml = i.ToString();
		li.InnerHtml = a.ToString();
		result.Append(li.ToString());
	}


	// стрелка вправо
	liPrevNext = new TagBuilder("li");
	if (Model.CurrentPage == Model.TotalPages)
	{
		liPrevNext.AddCssClass("disabled");
		liPrevNext.InnerHtml = Html.ActionLink(">>", "List", new
		{
			page = Model.CurrentPage
		})
	.ToString();
		result.Append(liPrevNext.ToString());
	}
	else
	{
		liPrevNext.InnerHtml = Html.ActionLink(">>", "List", new
		{
			page = Model.CurrentPage + 1
		})
		.ToString();
		result.Append(liPrevNext.ToString());
	}
}

<ul class="pagination">
	@MvcHtmlString.Create(result.ToString())
</ul>
